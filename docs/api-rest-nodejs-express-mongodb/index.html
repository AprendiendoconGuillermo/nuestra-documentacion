<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node js Express con MongoDB | Aprendiendo con Guillermo </title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/nuestra-documentacion/img/logo.png">
    <meta name="description" content="Documentacion de mis cursos">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/nuestra-documentacion/assets/css/0.styles.2029ee6f.css" as="style"><link rel="preload" href="/nuestra-documentacion/assets/js/app.575515aa.js" as="script"><link rel="preload" href="/nuestra-documentacion/assets/js/2.cd724c72.js" as="script"><link rel="preload" href="/nuestra-documentacion/assets/js/11.0145864a.js" as="script"><link rel="prefetch" href="/nuestra-documentacion/assets/js/10.4768df78.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/12.eba72f95.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/13.f4195ec9.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/14.6ba2f234.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/15.3d9c03b9.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/16.33da3ab3.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/17.72bf6f95.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/18.503513e6.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/19.2de7ea88.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/20.a4365141.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/21.a0b94a23.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/22.fbf8da7d.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/23.eeee4124.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/24.4e23ee79.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/25.0be6a140.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/26.ed75c441.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/27.f023efb5.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/28.720b9af1.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/29.cd66d239.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/3.2442ee3d.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/30.eaf00db7.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/31.eeebb063.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/32.a1c9a889.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/33.62d54642.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/34.a2ca2981.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/4.a580b09e.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/5.b52e3ef5.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/6.0925ee7a.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/7.dcf6fb9f.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/8.df73a778.js"><link rel="prefetch" href="/nuestra-documentacion/assets/js/9.7b599b81.js">
    <link rel="stylesheet" href="/nuestra-documentacion/assets/css/0.styles.2029ee6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nuestra-documentacion/" class="home-link router-link-active"><!----> <span class="site-name">Aprendiendo con Guillermo </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nuestra-documentacion/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="https://www.facebook.com/AprendiendoconGuillermo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  facebook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.youtube.com/AprendiendoconGuillermo?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi canal 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" Mis cursos" class="dropdown-title"><span class="title"> Mis cursos</span> <span class="arrow down"></span></button> <button type="button" aria-label=" Mis cursos" class="mobile-dropdown-title"><span class="title"> Mis cursos</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=bNKCKVVx3So&amp;list=PLRoF0hqfyCW-lfoIQ3PD8NbRZyBfzKBXZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java para principantes 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=EsEVrjVxjX4&amp;list=PLRoF0hqfyCW-Pyg01UJ3woDojSRWgKiRK" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Subnetting 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=hooMs4Qnn84&amp;list=PLRoF0hqfyCW9-VzxOWKO36qW5SQBE8dnJ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Planificaci贸n de la CPU 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nuestra-documentacion/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="https://www.facebook.com/AprendiendoconGuillermo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  facebook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.youtube.com/AprendiendoconGuillermo?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi canal 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" Mis cursos" class="dropdown-title"><span class="title"> Mis cursos</span> <span class="arrow down"></span></button> <button type="button" aria-label=" Mis cursos" class="mobile-dropdown-title"><span class="title"> Mis cursos</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=bNKCKVVx3So&amp;list=PLRoF0hqfyCW-lfoIQ3PD8NbRZyBfzKBXZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java para principantes 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=EsEVrjVxjX4&amp;list=PLRoF0hqfyCW-Pyg01UJ3woDojSRWgKiRK" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Subnetting 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.youtube.com/watch?v=hooMs4Qnn84&amp;list=PLRoF0hqfyCW9-VzxOWKO36qW5SQBE8dnJ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Planificaci贸n de la CPU 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hola </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java para principiantes desde cero en NetBeans</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Api Rest</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/" aria-current="page" class="active sidebar-link">Node js Express con MongoDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/#_1-creacion-del-proyecto" class="sidebar-link">1. Creaci贸n del proyecto</a></li><li class="sidebar-sub-header"><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/#_2-instalacion-de-dependencias" class="sidebar-link">2. Instalaci贸n de dependencias</a></li><li class="sidebar-sub-header"><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/#_3-ejecucion-del-proyecto" class="sidebar-link">3. Ejecuci贸n del proyecto</a></li><li class="sidebar-sub-header"><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/#_4-estructura-del-proyecto" class="sidebar-link">4. Estructura del proyecto</a></li></ul></li><li><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/spring-boot-mysql.html" class="sidebar-link">Spring Boot con MySql</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Consumir Api en VuePress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node-js-express-con-mongodb"><a href="#node-js-express-con-mongodb" class="header-anchor">#</a> Node js Express con MongoDB</h1> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>Debe tener instalado <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Debe tener instalado <a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noopener noreferrer">MongoDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> y tener ya un usuario y base creada <a href="https://docs.mongodb.com/manual/tutorial/getting-started/" target="_blank" rel="noopener noreferrer">click para la documentaci贸n<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h2 id="_1-creacion-del-proyecto"><a href="#_1-creacion-del-proyecto" class="header-anchor">#</a> 1. Creaci贸n del proyecto</h2> <ul><li>Cree una carpeta donde guste, esta contendr谩 el proyecto, por ejemplo:</li></ul> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/1.png" alt="Creaci贸 de la carpeta"></div> <ul><li>Dentro de la carpeta abriremos el cmd, y nos debe salir la siguiente ruta, debemos darnos cuenta que est茅 el nombre de la carpeta creada en el punto anterior</li></ul> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/2.png" alt="Creaci贸 de la carpeta"></div> <ul><li>Escribiremos el siguiente comando <code>mkdir</code> seguido del nombre de la carpeta que tendr谩 el proyecto, por ejemplo:</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mkdir</span> proyecto
</code></pre></div><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/3.png" alt="Creaci贸 de la carpeta"></div> <ul><li>Luego entraremos a la carpeta con <code>cd</code> seguido del nombre que se le di贸 en el punto anterior</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> proyecto
</code></pre></div><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/4.png" alt="Creaci贸 de la carpeta"></div> <ul><li>Estando dentro de nuestro proyecto, toca crear el archivo <code>package.json</code>, pero no te preocupes, esto se lo crea con el siguiente comando:</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> init
</code></pre></div><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/5.png" alt="Creaci贸 de la carpeta"></div> <ul><li>Luego nos solicitar谩 algunos datos para configurar el proyecto, puedes darle enter omitiendo o puedes ingresar, como sea tu elecci贸n.</li></ul> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/6.png" alt="Creaci贸 de la carpeta"></div> <p>Con esto ya tenemos creado el proyecto, para abrirlo basta escribir <code>code .</code> para que se nos abra <strong>Visual Studio Code</strong></p> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/7.png" alt="Creaci贸 de la carpeta"></div> <p>Veremos 煤nicamente el archivo <code>json</code> creado en puntos anteriores</p> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/8.png" alt="Creaci贸 de la carpeta"></div> <h2 id="_2-instalacion-de-dependencias"><a href="#_2-instalacion-de-dependencias" class="header-anchor">#</a> 2. Instalaci贸n de dependencias</h2> <ul><li><strong>La primera dependencia</strong> que instalaremos ser谩 <code>express</code>, y para ello podemos dijitar el siguiente comando en el cmd si a煤n no la has cerrado o abriendo el terminal en el <strong>Visual Studio Code</strong></li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> express --save
</code></pre></div><p><code>cmd</code></p><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/9.png" alt="Creaci贸 de la carpeta"></div><p></p> <p><code>Visual Studio Code</code></p><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/10.png" alt="Creaci贸 de la carpeta"></div><p></p> <p><code>instalaci贸n</code></p><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/11.png" alt="Creaci贸 de la carpeta"></div><p></p> <ul><li>Luego de la instalaci贸n veremos que nos aparece otro archivo <code>json</code> este tendr谩 las dependencias y la carpeta <code>node_modules</code> tendr谩 las carpetas de dichas dependencias</li></ul> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/12.png" alt="Creaci贸 de la carpeta"></div> <ul><li><p><strong>La segunda dependencia</strong> ser谩 la que nos permitir谩 conectarnos a la <code>mongoDb</code>, podemos instalar</p> <ul><li><a href="https://www.npmjs.com/package/mongoose" target="_blank" rel="noopener noreferrer">mongoose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token function">npm</span> <span class="token function">install</span> mongoose
</code></pre></div></li> <li><a href="https://www.npmjs.com/package/mongodb" target="_blank" rel="noopener noreferrer">mongodb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token function">npm</span> <span class="token function">install</span> mongodb
</code></pre></div></li></ul> <p>Elegir茅 la primera opci贸n</p></li></ul> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/13.png" alt="Creaci贸 de la carpeta"></div> <p>Y puedes observar en <code>package.json</code> la nueva dependencia</p> <ul><li><strong>La tercera dependencia</strong> ser谩 <a href="https://www.npmjs.com/package/nodemon" target="_blank" rel="noopener noreferrer"><code>nodemon</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> esta nos permitir谩 un ambiente de trabajo m谩s fluido.</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> nodemon
</code></pre></div><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/14.png" alt="Creaci贸 de la carpeta"></div> <p>Luego, debemos hacer un peque帽o cambio al <code>package.json</code> agregando al <code>scripts</code> lo siguiente:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon app.js&quot;</span>
</code></pre></div><p>Y ese ser谩 el archivo que se reiniciar谩 con cada cambio.</p> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/15.png" alt="Creaci贸 de la carpeta"></div> <ul><li><strong>La cuarta dependencia</strong> ser谩 <a href="https://www.npmjs.com/package/body-parser" target="_blank" rel="noopener noreferrer"><code>body-parser</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ser谩 para el middleware</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> body-parser
</code></pre></div><div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/16.png" alt="Creaci贸 de la carpeta"></div> <h2 id="_3-ejecucion-del-proyecto"><a href="#_3-ejecucion-del-proyecto" class="header-anchor">#</a> 3. Ejecuci贸n del proyecto</h2> <ul><li>Primero crearemos un archivo <code>app.js</code> debe tener nombre dado cuando se instal贸 <code>nodemon</code>.</li> <li>Luego dentro del archivo escribieremos lo siguiente</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos express</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// llamanos al funci贸n</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// escuchamos el puerto 3000 y mostramos un mensaje por consola</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Conectado'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Y para ejecutar, en el terminal escribiremos</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> start
</code></pre></div><p>Y, listo  hemos ejecutado nuestro proyecto pero a煤n falta para hacerlo <code>api-rest</code> ゴ</p> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/17.png" alt="Creaci贸 de la carpeta"></div> <h2 id="_4-estructura-del-proyecto"><a href="#_4-estructura-del-proyecto" class="header-anchor">#</a> 4. Estructura del proyecto</h2> <p>La estructura ser谩 la siguiente</p> <ul><li><p><strong>PROYECTO</strong></p> <ul><li><strong>node_modules</strong></li> <li><strong>src</strong> <ul><li>app</li> <li>config</li> <li>controller</li> <li>repository</li> <li>service</li> <li>exception</li> <li>collection</li> <li>route</li></ul></li> <li><strong>app.js</strong></li> <li><strong>package-lock.json</strong></li> <li><strong>package.json</strong></li></ul></li> <li><p><strong>Dentro de la carpeta <code>config</code></strong> crearemos un archivo <code>server.js</code> que contrendr谩 las credenciales del servidor y el puerto que escuchar谩 nuestra aplicaci贸n.</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * BD: mongodb 
 * user: aprendiendo
 * pass: 123456
 * server: localhost
 * port: 27017
 * bd: pruebas
 */</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    port <span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token comment">//puerto que escuchar谩 nuestra aplicaci贸n</span>
    mongodb <span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MONGODB</span> <span class="token operator">||</span> <span class="token string">'mongodb://aprendiendo:123456@localhost:27017/proyecto'</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>exception</code></strong> creamos un archivo <code>exception.js</code> que contrendr谩 nuestras excepciones personalizadas, y estas son algunas, podemos tener m谩s dependiendo la necesidad del proyecto.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// excepci贸n al crear una colecci贸n</span>
<span class="token keyword">const</span> <span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">,</span> payload<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
<span class="token comment">// excepci贸n al enviar una petici贸n err贸nea</span>
<span class="token keyword">const</span> <span class="token function-variable function">badRequest</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> payload<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// excepci贸n interna del proyecto </span>
<span class="token keyword">const</span> <span class="token function-variable function">internalError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> payload<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// mensaje a devolver</span>
<span class="token keyword">function</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> code<span class="token punctuation">,</span> payload<span class="token punctuation">,</span> flag</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;error&quot;</span><span class="token operator">:</span> flag<span class="token punctuation">,</span> <span class="token string">&quot;payload&quot;</span><span class="token operator">:</span> payload<span class="token operator">??</span><span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// exportamos las excepciones para poder importarlas en otros archivos</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    create<span class="token punctuation">,</span>
    badRequest<span class="token punctuation">,</span>
    internalError
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>collection</code></strong> crearemos nuestros modelos o esquemas de nuestra base, por esta pr谩ctica crearemos un s贸lo esquema persona y el archivo ser谩 <code>personCollection.js</code>.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos mongoose para poder hacer uso del schema</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// creamos nuestro esquema</span>
<span class="token keyword">const</span> collectionPerson <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> String<span class="token punctuation">,</span>
    city<span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// creamos una constante de nuestro modelo para poderlo exportar</span>
<span class="token keyword">const</span> Person <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Person'</span><span class="token punctuation">,</span> collectionPerson<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// exportamos nuestro esquema</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Person<span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>repository</code></strong> crearemos el archivo <code>personRepository.js</code> y aqu铆 haremos todo las setencias a nuestra base, es decir, es aqu铆 donde guardaremos, buscaremos, actualizaremos y eliminaremos nuestros documentos.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos nuestro esquema</span>
<span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../collection/personCollection.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// el m茅todo es async porque devuelve una promesa</span>
<span class="token keyword">const</span> <span class="token function-variable function">guardar</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token keyword">return</span> <span class="token keyword">await</span> p<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">buscar</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">actualizar</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">findByIdAndUpdate</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
            _id<span class="token operator">:</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            $set<span class="token operator">:</span>
            <span class="token punctuation">{</span>
                name <span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                city <span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>city
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">eliminar</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">findByIdAndDelete</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
            _id<span class="token operator">:</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// exporamos nuestro m茅todo para poder importarlo en nuestro servicio</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    guardar<span class="token punctuation">,</span>
    buscar<span class="token punctuation">,</span>
    actualizar<span class="token punctuation">,</span>
    eliminar
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>service</code></strong> crearemos un archivo <code>personService.js</code> es la parte media entre el controllador y repositorio, y es aqu铆 donde se valida los datos, lanza excepciones y dem谩s.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos nuestro repositorio</span>
<span class="token keyword">const</span> repository <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../repository/personRepository.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos nuestras excepciones</span>
<span class="token keyword">const</span> exception <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../exception/exception.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// esta funci贸n recibe el requerimiento (body) y respuesta (http)</span>
<span class="token keyword">function</span> <span class="token function">guardar</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token keyword">try</span> <span class="token punctuation">{</span>                
        <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>city <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>city <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token comment">// exception si los datos no son los esperados</span>
           exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Ingrese los datos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            repository<span class="token punctuation">.</span><span class="token function">guardar</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception de creaci贸n</span>
                exception<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Datos ingresados&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception si hubo algo inesperado con la solicitud</span>
                exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>            
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception interna del programa</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// esta funci贸n recibe el requerimiento (body) y respuesta (http)</span>
<span class="token keyword">function</span> <span class="token function">buscar</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       
    <span class="token keyword">try</span> <span class="token punctuation">{</span>                       
        repository<span class="token punctuation">.</span><span class="token function">buscar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// exception de creaci贸n            </span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                exception<span class="token punctuation">.</span><span class="token function">found</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> doc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                exception<span class="token punctuation">.</span><span class="token function">notFound</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;No hay documentos que mostrar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// exception si hubo algo inesperado con la solicitud</span>
            exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception interna del programa</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// esta funci贸n recibe el requerimiento (body) y respuesta (http)</span>
<span class="token keyword">function</span> <span class="token function">actualizar</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       
    <span class="token keyword">try</span> <span class="token punctuation">{</span>   
        <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>city <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>city <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token comment">// exception si los datos no son los esperados</span>
           exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Ingrese los datos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token keyword">else</span><span class="token punctuation">{</span>                                
            repository<span class="token punctuation">.</span><span class="token function">actualizar</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception de actualizaci贸n  </span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>doc <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                    exception<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Documento actualizado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    exception<span class="token punctuation">.</span><span class="token function">notFound</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;No existe el documento&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception si hubo algo inesperado con la solicitud</span>
                exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;El id tiene un formato err贸neo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>                
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception interna del programa</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// esta funci贸n recibe el requerimiento (body) y respuesta (http)</span>
<span class="token keyword">function</span> <span class="token function">eliminar</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       
    <span class="token keyword">try</span> <span class="token punctuation">{</span>   
        <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span>
            <span class="token comment">// exception si los datos no son los esperados</span>
           exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Ingrese los datos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token keyword">else</span><span class="token punctuation">{</span>                                
            repository<span class="token punctuation">.</span><span class="token function">eliminar</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception de creaci贸n      </span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>doc <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                    exception<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Documento eliminado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    exception<span class="token punctuation">.</span><span class="token function">notFound</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;No existe el documento&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// exception si hubo algo inesperado con la solicitud</span>
                exception<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;El id tiene un formato err贸neo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>                
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception interna del programa</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// exportamos el m茅todo para poderlo importar en el controllador</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    guardar<span class="token punctuation">,</span>
    buscar<span class="token punctuation">,</span>
    actualizar<span class="token punctuation">,</span>
    eliminar
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>controller</code></strong> crearemos un archivo <code>personController.js</code>, aqu铆 llamaremos a todos los m茅todos de nuestro servicio persona.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos nuestro servicio</span>
<span class="token keyword">const</span> service <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../service/personService.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos nuestras excepciones</span>
<span class="token keyword">const</span> exception <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../exception/exception.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// m茅todo insertar</span>
<span class="token keyword">function</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
    <span class="token keyword">try</span> <span class="token punctuation">{</span>     
        <span class="token comment">// llamamos a nuestro m茅todo</span>
        service<span class="token punctuation">.</span><span class="token function">guardar</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception inesperada</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>     
        <span class="token comment">// llamamos a nuestro m茅todo</span>
        service<span class="token punctuation">.</span><span class="token function">buscar</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception inesperada</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>     
        <span class="token comment">// llamamos a nuestro m茅todo</span>
        service<span class="token punctuation">.</span><span class="token function">actualizar</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception inesperada</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">borrar</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>     
        <span class="token comment">// llamamos a nuestro m茅todo</span>
        service<span class="token punctuation">.</span><span class="token function">eliminar</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exception inesperada</span>
        exception<span class="token punctuation">.</span><span class="token function">internalError</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Problema inesperado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    insert<span class="token punctuation">,</span>
    select<span class="token punctuation">,</span>
    update<span class="token punctuation">,</span>
    borrar
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>route</code></strong> crearemos un archivo <code>personRoute.js</code> que contrendr谩 las rutas de nuestros endpoints de persona.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos express</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// hacemos uso de la funci贸n Router()</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos nuestro controlador</span>
<span class="token keyword">const</span> personCroller <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../controller/personController.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// hacemos uso de los m茅todos http</span>
api<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/add'</span><span class="token punctuation">,</span>personCroller<span class="token punctuation">.</span>insert<span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/select'</span><span class="token punctuation">,</span> personCroller<span class="token punctuation">.</span>select<span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/update/:id/'</span> <span class="token punctuation">,</span> personCroller<span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/delete/:id'</span><span class="token punctuation">,</span>personCroller<span class="token punctuation">.</span>borrar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// exportamos api</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> api<span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Dentro de la carpeta <code>app</code></strong> crearemos un archivo <code>app.js</code> que contrendr谩 o har谩 de almacenar todos los accesos a las rutas de nuestra <code>api-rest</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos express</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos body-parser</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// llamanos al funci贸n</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos nuestro archivo que contiene las rutas o endpoints de persona</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../route/personRoute.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// hacemos uso de body-parser</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>extended<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// hacemos uso de nuestra ruta de persona</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> api<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* si tuvieramos m谩s rutas de otras collections har铆amos todo como se hiso con persona
 * y aqu铆 har铆amos udo de la ruta por ejemplo
 * app.use('/api', api2);
 */</span>
<span class="token comment">// exportamos app para llamarlo en nuestro archivo app.js que est谩 en la ra铆z de nuestro proyecto</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app<span class="token punctuation">;</span>
</code></pre></div><p>Teniendo lista la estructura con sus archivos correspondientes, ahora toca modificar el archivo <code>app.js</code> que est谩 en la ra铆z del proyecto para acceder a la base y modificar el escuchar nuestra aplicaci贸n.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// importamos mongoose para la base</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos app</span>
<span class="token keyword">const</span> personApp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/app/app.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// importamos la configuraci贸n del servidor</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/config/server.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// nos conectamos al la base</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>server<span class="token punctuation">.</span>mongodb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//creamos una constante de la connection</span>
<span class="token keyword">const</span> connection <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>connection<span class="token punctuation">;</span>
<span class="token comment">// mostramos un console si ha fue exitosa</span>
connection<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'MongoDb success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// mostramos un console si ha fue err贸nea</span>
connection<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Echale agua para que encienda'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// escuchamos el puerto</span>
personApp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>server<span class="token punctuation">.</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Conectado'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Proyecto terminado</p> <div style="text-align:center;"><img src="/nuestra-documentacion/img/api-nodejs/18.png" alt="Creaci贸 de la carpeta"></div> <p><a href="/nuestra-documentacion/pruebas/test-api-nodejs">Dame click para ver la ejecuci贸n</a><br> <a href="http://fumacrom.com/2tqLt" target="_blank" rel="noopener noreferrer">Dame click para descargar el proyecto<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/nuestra-documentacion/java-principiantes/modulo-16.html" class="prev">
        /java-principiantes/modulo-16.html
      </a></span> <span class="next"><a href="/nuestra-documentacion/api-rest-nodejs-express-mongodb/spring-boot-mysql.html">
        Spring Boot con MySql
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/nuestra-documentacion/assets/js/app.575515aa.js" defer></script><script src="/nuestra-documentacion/assets/js/2.cd724c72.js" defer></script><script src="/nuestra-documentacion/assets/js/11.0145864a.js" defer></script>
  </body>
</html>
